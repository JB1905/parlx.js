"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Parlx=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),e.length>0?this.init(e,n):0!==e.length&&(this.element=e,this.settings=this.settings(n),this.parallaxEffect(),this.addEventListeners())}return _createClass(t,[{key:"init",value:function(e,n){for(var i=0;i<e.length;i++)this.parlx=new t(e[i],n)}},{key:"addEventListeners",value:function(){var t=this;window.addEventListener("scroll",function(){return t.onWindowScroll()}),window.addEventListener("resize",function(){return t.onWindowResize()})}},{key:"onWindowScroll",value:function(){this.parallaxEffect()}},{key:"onWindowResize",value:function(){this.parallaxEffect()}},{key:"transforms",value:function(){"horizontal"===this.settings.direction?(this.moveX=this.movement,this.moveY="0"):"vertical"===this.settings.direction?(this.moveX="0",this.moveY=this.movement):"diagonal"===this.settings.direction&&(this.moveX=this.movement,this.moveY=this.movement),this.transform="translate("+this.moveX+"px, "+this.moveY+"px)"}},{key:"parallaxEffect",value:function(){this.element.style.height=this.settings.height;var t=this.element.getBoundingClientRect().y;Math.abs(this.settings.speed)>1&&(this.settings.speed=.3),this.movement=this.settings.speed*t/2,"ontouchstart"in document.documentElement&&!this.settings.mobile&&(this.settings.speed=0),this.transforms(),"foreground"===this.settings.type?Object.assign(this.element.style,{"-webkit-transform":this.transform,transform:this.transform}):"background"===this.settings.type&&Object.assign(this.element.querySelector("img").style,{"-webkit-transform":this.transform,transform:this.transform,width:"auto",height:"auto","min-width":this.element.offsetWidth*(1+Math.abs(this.settings.speed))+"px","min-height":this.element.offsetHeight*(1+Math.abs(this.settings.speed))+"px"})}},{key:"settings",value:function(t){var e={direction:"vertical",type:"background",speed:.3,height:"400px",mobile:!0},n={};for(var i in e)if(i in t)n[i]=t[i];else if(this.element.getAttribute("data-"+i)){var s=this.element.getAttribute("data-"+i);try{n[i]=JSON.parse(s)}catch(t){n[i]=s}}else n[i]=e[i];return n}}]),t}(),autoInit=new Parlx(document.querySelectorAll("[data-parlx]"));if(window.jQuery){var $=window.jQuery;$.fn.parlx=function(t){new Parlx(this,t)}}"function"==typeof define&&define.amd?define("Parlx",[],function(){return Parlx}):"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=Parlx),exports.default=Parlx);