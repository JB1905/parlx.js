/*!
* parlx.js v1.1 beta 1
* Copyright 2017-2018 Jakub Biesiada
* MIT License
*/
class Parlx{constructor(t,e={}){t.length>0?this.init(t,e):0!==t.length&&(this.element=t,this.settings=this.settings(e),this.parallaxEffect(),this.addEventListeners())}init(t,e){for(var s=0;s<t.length;s++)new Parlx(t[s],e)}addEventListeners(){window.addEventListener("scroll",()=>this.onWindowScroll()),window.addEventListener("resize",()=>this.onWindowResize())}isTouch(){if("ontouchstart"in document.documentElement)return!0}onWindowScroll(){this.isTouch()?this.parallaxEffect():window.requestAnimationFrame(()=>this.parallaxEffect())}onWindowResize(){this.parallaxEffect()}parallaxEffect(){this.element.style.height=this.settings.height;let t=window.pageYOffset-this.element.offsetTop;Math.abs(this.settings.speed)>.5&&(this.settings.speed=.3),this.movement=(-this.settings.speed*t).toFixed(2),this.isTouch()&&!this.settings.mobile&&(this.settings.speed=0),"front"===this.settings.type?("horizontal"===this.settings.direction?(this.moveX=this.movement,this.moveY="0"):"vertical"===this.settings.direction?(this.moveX="0",this.moveY=this.movement):"diagonal"===this.settings.direction&&(this.moveX=this.movement,this.moveY=this.movement),this.isTouch()?this.transform=`translate(${this.moveX}px, ${this.moveY}px)`:this.transform=`translate3d(${this.moveX}px, ${this.moveY}px, 0px)`,Object.assign(this.element.style,{"-webkit-transform":this.transform,transform:this.transform,transition:"transform linear","will-change":"transform"})):"back"===this.settings.type&&(Object.assign(this.element.style,{"background-repeat":"no-repeat"}),this.element.offsetWidth>this.element.offsetHeight?Object.assign(this.element.style,{"background-size":`${this.element.offsetWidth} ${this.element.offsetHeight*(1+2*Math.abs(this.settings.speed))}px`}):Object.assign(this.element.style,{"background-size":`${this.element.offsetWidth*(1+2*Math.abs(this.settings.speed))}px ${this.element.offsetHeight}`}),"horizontal"===this.settings.direction?(this.posX=`calc(50% + ${this.movement}px)`,this.posY="center"):"vertical"===this.settings.direction?(this.posX="center",this.posY=`calc(50% + ${this.movement}px)`):"diagonal"===this.settings.direction&&(this.posX=`calc(50% + ${this.movement}px)`,this.posY=`calc(50% + ${this.movement}px)`),this.element.style.backgroundPosition=`${this.posX} ${this.posY}`)}settings(t){let e={direction:"vertical",type:"back",speed:.3,height:"400px",mobile:!0},s={};for(var i in e)if(i in t)s[i]=t[i];else if(this.element.getAttribute(`data-${i}`)){let t=this.element.getAttribute(`data-${i}`);try{s[i]=JSON.parse(t)}catch(e){s[i]=t}}else s[i]=e[i];return s}}if(window.jQuery){window.jQuery.fn.Parlx=function(t){for(var e=0;e<this.length;e++)new Parlx(this[e],t)}}