"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Parlx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),t.length>0?this.init(t,n):(this.element=t,this.settings=this.settings(n),this.parallaxEffect(),this.addEventListeners())}return _createClass(e,[{key:"init",value:function(t,n){for(var i=0;i<t.length;i++)new e(t[i],n)}},{key:"addEventListeners",value:function(){var e=this;window.addEventListener("scroll",function(){return e.onWindowScroll()}),window.addEventListener("resize",function(){return e.onWindowResize()})}},{key:"onWindowScroll",value:function(){this.parallaxEffect()}},{key:"onWindowResize",value:function(){this.parallaxEffect()}},{key:"parallaxEffect",value:function(){"ontouchstart"in document.documentElement&&!this.settings.mobile&&(this.settings.speed=0),(this.settings.speed<0||this.settings.speed>.5)&&(this.settings.speed=.3),this.element.style.height=this.settings.height,this.children=this.element.querySelector(this.settings.item);var e=window.pageYOffset-this.element.offsetTop;Object.assign(this.children.style,{top:"0px",left:"50%","min-height":this.element.offsetHeight*(1+2*this.settings.speed)+"px","min-width":"100%",width:"auto","-webkit-transform":"translate(-50%, "+this.settings.speed*e+"px)","-ms-transform":"translate(-50%, "+this.settings.speed*e+"px)",transform:"translate(-50%, "+this.settings.speed*e+"px)"}),"img"!==this.children.tagName.toLowerCase()&&(this.children.style.backgroundPosition="center center")}},{key:"settings",value:function(e){var t={item:".background",speed:.3,height:"400px",mobile:!0},n={};for(var i in t)if(i in e)n[i]=e[i];else if(this.element.getAttribute("data-"+i)){var s=this.element.getAttribute("data-"+i);try{n[i]=JSON.parse(s)}catch(e){n[i]=s}}else n[i]=t[i];return n}}]),e}();if(window.jQuery){var $=window.jQuery;$.fn.Parlx=function(e){for(var t=0;t<this.length;t++)new Parlx(this[t],e)}}